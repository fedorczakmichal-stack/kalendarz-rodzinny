.mcal{display:none;padding:.5rem;padding-bottom:calc(.5rem + var(--safe-bottom) + 70px);}
    .view-switcher{display:none;position:sticky;top:0;z-index:50;background:#fff;border-bottom:1px solid #e5e7eb;padding:.5rem;margin:-.5rem -.5rem .5rem;}
    .view-switcher-inner{display:flex;gap:.25rem;background:#f3f4f6;border-radius:10px;padding:.25rem;}
    .view-btn{flex:1;padding:.5rem;border-radius:8px;font-weight:600;font-size:.8rem;color:#6b7280;background:transparent;border:none;transition:all .2s;}
    .view-btn.active{background:white;color:#8b5cf6;box-shadow:0 2px 4px rgba(0,0,0,.08);}
    @media (max-width:768px){.grid{display:none} .mcal{display:block} .view-switcher{display:block}.m-card{background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:.75rem;margin-bottom:.65rem;box-shadow:0 2px 8px rgba(0,0,0,.06);transition:all .2s;}.m-card:active{transform:scale(.98);}.m-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:.4rem;padding-bottom:.4rem;border-bottom:1.5px solid #f3f4f6;}.m-num{font-size:1.35rem;font-weight:800;color:#1f2937;}.m-name{font-size:.75rem;color:#6b7280;margin-left:.25rem;}.tag{font-size:.65rem;border-radius:999px;padding:.15rem .4rem;font-weight:600;}.m-row{display:flex;gap:.4rem;align-items:stretch;margin:.25rem 0;}.m-label{flex:0 0 75px;border-radius:8px;padding:.4rem .45rem;font-weight:600;color:#334155;font-size:.75rem;display:flex;align-items:center;}.m-content{flex:1;border-radius:8px;padding:.5rem .6rem;cursor:pointer;position:relative;z-index:2;min-height:34px;display:flex;align-items:center;transition:all .15s;}.m-content:active{background-color:rgba(0,0,0,.05);}.m-content .txt{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;font-size:.85rem;line-height:1.3;}.m-content .placeholder{color:#9ca3af;font-size:.8rem;}}
    .m-grid-view{display:none;padding-bottom:calc(1rem + var(--safe-bottom) + 70px);}
    .m-grid-view.active{display:block;}
    .m-cards-view{display:block;}
    .m-cards-view.hidden{display:none;}
    .m-grid-wrap{overflow-x:auto;-webkit-overflow-scrolling:touch;margin:-.5rem;}
    .m-grid-table{min-width:600px;background:#fff;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden;}
    .m-grid-header{display:grid;grid-template-columns:50px repeat(6,1fr);background:#f9fafb;border-bottom:2px solid #e5e7eb;}
    .m-grid-hcell{padding:.5rem .25rem;font-weight:700;font-size:.65rem;text-align:center;border-right:1px solid #e5e7eb;color:#374151;}
    .m-grid-hcell:last-child{border-right:none;}
    .m-grid-row{display:grid;grid-template-columns:50px repeat(6,1fr);border-bottom:1px solid #e5e7eb;}
    .m-grid-row:last-child{border-bottom:none;}
    .m-grid-day{padding:.35rem;font-weight:700;text-align:center;background:#fafbfc;border-right:1px solid #e5e7eb;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1px;}
    .m-grid-day-num{font-size:.9rem;color:#1f2937;}
    .m-grid-day-name{font-size:.5rem;color:#9ca3af;}
    .m-grid-cell{padding:.25rem;border-right:1px solid #e5e7eb;font-size:.65rem;line-height:1.2;min-height:45px;cursor:pointer;word-break:break-word;display:flex;align-items:center;}
    .m-grid-cell:last-child{border-right:none;}
    .m-grid-off{background:linear-gradient(135deg,rgba(239,68,68,.05),rgba(219,39,119,.05));}
    .m-grid-today .m-grid-day{background:linear-gradient(135deg,#ede9fe,#fce7f3);}
    .m-grid-today .m-grid-day-num{color:#8b5cf6;}
